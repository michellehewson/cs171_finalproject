<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>TikTok's Influence on Music</title>

	<!-- Load CSS libraries -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.css" integrity="sha512-wCVOuVtxsXqrQK7tj9j4BvyfITQmpp7UE7mVilD7aieGLYFEIAa5UKTP1RapOf6dxQ9JIKAneakcyykWG4r4Ow==" crossorigin="anonymous" referrerpolicy="no-referrer" />	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.4.0/nouislider.css" integrity="sha512-DGB74Gyw93qON+V0QxSRs1er6sqoPyFoy23HBL5LN7MRJBcjeCU22zega+vOEGE0XQLoVrv4ExcaesSTwZQA2w==" crossorigin="anonymous" referrerpolicy="no-referrer"/>

	<!-- GOOGLE FONTS -->
	<link href='https://fonts.googleapis.com/css?family=Press Start 2P' rel='stylesheet'>
	<link href='https://fonts.googleapis.com/css?family=Roboto:400,100,300,500,400italic,300italic' rel='stylesheet' type='text/css'>
</head>

<body>

<!-- we can add each page here -->
<div id="fullPage">
	<div data-anchor="page1" class="section">
		<h1>From Tiktok Trends to Playlist Picks</h1>
		<h2>Exploring Musical Trends Across Spotify and TikTok</h2>
	</div>
	<div data-anchor="page2" class="section">
		<div class="column-container">
			<div class="column">
				<div class="fade-in-title">
					<h1 id="intro-text">What is <img src="img/tiktok.png" alt="TikTok logo" width="416" height="121">?</h1>
				</div>
				<div class="fade-in-fact1">
					<h2 id="intro-text1">TikTok is a social media platform that has taken the world by storm.</h2>
				</div>
				<div class="fade-in-fact2">
					<h2 id="intro-text2">Users can create, share, and discover short videos to distribute to others around the globe.</h2>
				</div>
				<div class="fade-in-fact3">
					<h2 id="intro-text3">TikTokers express themselves through methods like lip-syncing, comedy skits, and dancing to soundtracks. </h2>
				</div>
				<div class="fade-in-fact4">
					<h2 id="intro-text4">Its algorithm tailors the content to each users' preferences, thus contributing to its trendsetting nature.</h2>
				</div>
			</div>
			<div class="column">
				<div class="video-container">
					<div class="tiktok-video">
						<blockquote class="tiktok-embed" cite="https://www.tiktok.com/@charlidamelio/video/6814098461663710469" data-video-id="6814098461663710469" style="max-width: 605px;min-width: 325px;">
							<section>
								<a target="_blank" title="@charlidamelio" href="https://www.tiktok.com/@charlidamelio?refer=embed">@charlidamelio</a> @dixiedamelio @marcdamelio @heididamelio dc @africanhoney
								<a target="_blank" title="‚ô¨ original sound - Samantha Long" href="https://www.tiktok.com/music/original-sound-6800961710590085893?refer=embed">‚ô¨ original sound - Samantha Long</a>
							</section>
						</blockquote>
						<script async src="https://www.tiktok.com/embed.js"></script>
					</div>

					<div class="tiktok-video">
						<blockquote class="tiktok-embed" cite="https://www.tiktok.com/@bellapoarch/video/6862153058223197445" data-video-id="6862153058223197445" style="max-width: 605px;min-width: 325px;" > <section> <a target="_blank" title="@bellapoarch" href="https://www.tiktok.com/@bellapoarch?refer=embed">@bellapoarch</a> To the üêù üêù üêù  <a title="fyp" target="_blank" href="https://www.tiktok.com/tag/fyp?refer=embed">#fyp</a> <a target="_blank" title="‚ô¨ M to the B - Millie B" href="https://www.tiktok.com/music/M-to-the-B-6840839890826038022?refer=embed">‚ô¨ M to the B - Millie B</a> </section> </blockquote> <script async src="https://www.tiktok.com/embed.js"></script>
						<script async src="https://www.tiktok.com/embed.js"></script>
					</div>
					<div class="tiktok-video">
						<blockquote class="tiktok-embed" cite="https://www.tiktok.com/@juanpazurita/video/6828965457890954502" data-video-id="6828965457890954502" style="max-width: 605px;min-width: 325px;">
							<section>
								<a target="_blank" title="@juanpazurita" href="https://www.tiktok.com/@juanpazurita?refer=embed">@juanpazurita</a> D√≠a 62. Ya estoy bailando en tiktok @paumtzurita @andymtzurita
								<a target="_blank" title="‚ô¨ Blinding Lights - The Weeknd" href="https://www.tiktok.com/music/Blinding-Lights-6772930910393273094?refer=embed">‚ô¨ Blinding Lights - The Weeknd</a>
							</section>
						</blockquote>
						<script async src="https://www.tiktok.com/embed.js"></script>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div data-anchor="page3" class="section">
		<div class="column-container" style="position: relative;">
			<div class="column fixed-column" style="position: sticky; top: 20px; height: 716.79px; width: 375px;">
				<h2 id="response-text" style="display: none;"></h2>
				<div class="fade-in-tiktok-text1">
					<h2>TikTok dominated in 2022 as the most downloaded app on the market, accumulating over <b>800 million</b> downloads.</h2>
				</div>
				<div class="fade-in-tiktok-text2">
					<h2 id="tiktok-text2">This rise in popularity is a testament to TikTok's capability to shape current trends and culture.</h2>
				</div>
				<div class="fade-in-tiktok-text3">
					<h2 id="tiktok-text3"><b>Let's explore whether TikTok's immense popularity in 2022 influenced music trends during that period.</b></h2>
				</div>
			</div>
			<div class="column fixed-column" style="position: sticky; top: 20px; height: 716.79px; width: 350px;">
				<div id="barchart"></div>
			</div>
		</div>
		<div class="button-container">
			<div id="button-box">
				<h2> Do you use TikTok?</h2>
				<div class="button-group">
					<button id="yesButton" class="button">Yes</button>
					<button id="noButton" class="button">No</button>
				</div>
			</div>
		</div>

	</div>


	<div data-anchor="page4" class="section">
		<div class="column-container">
			<div class="column-left">
				<h3>Explore the artists who dominated the TikTok and Spotify charts in 2022.</h3>
				<div id="legend"></div>
				<div id="popupRectangle" class="popup-rectangle">

					<div>
						<input type="radio" id="together-radio" name="cluster-type" value="together" checked>
						<label for="together-radio">Together</label>

						<input type="radio" id="separate-radio" name="cluster-type" value="separate">
						<label for="separate-radio">Separate by Platform</label>

						<input type="radio" id="most-songs-radio" name="cluster-type" value="top-artists">
						<label for="most-songs-radio">Top Artists</label>

						<input type="radio" id="one-hit-wonders-radio" name="cluster-type" value="one-hit-wonders">
						<label for="one-hit-wonders-radio">One Hit Wonders</label>
					</div>


					<h4>Was your favorite artist at the top of the charts?</h4>
					<form id="form">
						<input type="search" id="searchArtist" name="q" placeholder="Search...">
						<button id="searchButton">Search</button>
						<p id="notFoundMessage" style="display: none;">Sorry, that artist was not in the top charts.</p>
					</form>
				</div>
			</div>
			<div class="column">
				<div id="bubblechart"></div>
			</div>

		</div>
	</div>

	<div data-anchor="page5" class="section">
		<div class="circle-container">
			<div class="rectangle">
				<h2>What makes an artist popular on TikTok vs Spotify?</h2>
			</div>
			<div class="rectangle">
				<h4>From the bubble chart, we can see that most of the popular artists dominated these platforms with one featured song,
					while a few of them have multi songs. Around 30% of artists have songs on both platform's popular lists.
					But who are the most popular artists exactly?</h4>
			</div>
		</div>
	</div>

	<div data-anchor="page6" class="section">

	</div>

	<div data-anchor="page7" class="section">
		<div class="col-auto">
			<h2> Let's Take a Closer Look at the Top Artists!</h2>
			<button id="showTopArtistsButton">Show Spotify Data</button>
			<div class="row">
				<div class="col-md-8">
					<div id="faceplot"></div>
				</div>
				<div class="col-md-4">
					<div id="artist-name-container">
						<p> Hover over an artist to view their top tracks!</p>
					</div>
					<div id="bar-chart">

					</div>
				</div>
			</div>
		</div>
	</div>

	<div data-anchor="page8" class="section">
		<div class="circle-container">
			<div class="rectangle">
				<h2>What makes a song popular on these platforms?</h2>
			</div>
		</div>
	</div>
	<div data-anchor="page9" class="section">
		<h2>Radar chart</h2>
		<div class="row">
			<div class="col-md-6">
				<div class="slider-container">
					<div id="spotify-slider"></div>
					<div class="slider-label">
					<span id="start-label-s" class = "slider-label-left"></span>
					<span id="end-label-s"  class="slider-label-right"></span>
					</div>
					</div>

				<div id="spotifyradarchart"></div>
			</div>
			<div class="col-md-6">
				<div class="slider-container">
					<div id="tiktok-slider"></div>
					<div class="slider-label">
					<span id="start-label-t" class = "slider-label-left"></span>
					<span id="end-label-t"  class="slider-label-right"></span>
					</div>
				</div>
				<div id="tiktokradarchart"></div>
			</div>
		</div>
		<div class="row">
			<div class="col-md-6">
				<h3> Songs on Spotify Chart:</h3>
				<div id="spotify-track-names" class="track-names"></div>
			</div>
			<div class="col-md-6">
				<h3> Songs on Tiktok Chart:</h3>
				<div id="tiktok-track-names" class="track-names"></div>
			</div>
		</div>

	</div>

	<div data-anchor="page10" class="section">
		<h2>Histograms on attributes </h2>

		<div class = "row">
			<div class = "col-md-4"></div>
			<div class = "col-md-4">
				Feature to compare:
				<select id='categorySelector' class="custom-select align-self-center" onchange="categoryChange()">
					<option value="danceability" selected>Danceability</option>
					<option value="acousticness">Acousticness</option>
					<option value="speechiness">Speechiness</option>
					<option value="tempo">Tempo</option>
					<option value="liveness">Liveness</option>
					<option value="energy">Energy</option>
				</select>
			</div>
		</div>

		<div class = "row">
			<div class = "col-md-4">


				<h4>
					In this part we show the distributions of the number of songs regarding their different attributes.
					Some insights are: the distributions of songs categorized by attributes are similar across Tiktok and Spotify.
					Songs are normally distributed across the feature "danceability" and "energy", while more songs are ranked on the "lesser" side over other features.
				</h4>

			</div>
			<div class="col-md-4">
				<div id="tiktokHist">
				</div>
			</div>

			<div class="col-md-4" >
				<div id="spotHist">
				</div>
			</div>
		</div>



	</div>

	<div data-anchor="page11" class="section">
		<div class="container-piano">
			<div class="left-column">
				<h3 id="piano-title2">Playing with the Distribution of Keys Among Top Songs</h3>
				<h4 class="piano-description">In music theory, the key of a song is its central pitch. There are 12 keys that a song can be recorded in.</h4>
				<h4 class="piano-description">Each key represent 1 of the 12 pitches within an octave.</h4>
				<h4 class="piano-description">Try investigating the 12 key distribution of the top songs on Spotify and TikTok in 2022!</h4>			</div>
			<div class="right-column">
				<!--
				<h1 id="piano-title">Playing with the Distribution of Keys Among Top Songs</h1>
				-->
				<div id="piano"></div>
			</div>
		</div>
	</div>

	<div data-anchor="page12" class="section">
		<h2>The comparison of different attributes</h2>

		<div class = 'row'>
			<div class = 'col-4'></div>
			<div class="col-3">
				X Axis:
				<select id='XcategorySelector' class="custom-select align-self-center" onchange="XcategoryChange()">
					<option value="danceability" selected>Danceability</option>
					<option value="acousticness">Acousticness</option>
					<option value="speechiness">Speechiness</option>
					<option value="tempo">Tempo</option>
					<option value="liveness">Liveness</option>
					<option value="energy">Energy</option>
				</select>
			</div>
			<div class="col-3">
				Y Axis:
				<select id='YcategorySelector' class="custom-select align-self-center" onchange="YcategoryChange()">
					<option value="danceability" selected>Danceability</option>
					<option value="acousticness">Acousticness</option>
					<option value="speechiness">Speechiness</option>
					<option value="tempo">Tempo</option>
					<option value="liveness">Liveness</option>
					<option value="energy">Energy</option>
				</select>
			</div>
		</div>
		<div class = 'row'>
			<div class = "col-md-4">
				<h4>
					These two plots show the comparisons between different attributes for the songs over the two platforms.
					For example, if "Acousticness" is selected on X axis and "Energy" is selected on Y-axis,
					user can see a negative relationship between these two features of the songs.
				</h4>

			</div>
			<div class="col-md-4">
				<div id="tikScatterDiv">
				</div>
			</div>
			<div class="col-md-4">
				<div id="spotScatterDiv">
				</div>
			</div>
		</div>


	</div>
	<div data-anchor="page13" class="section">
		<h2>conclusion</h2>
	</div>

</div>






<!-- embedding JS libraries -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>

<!-- d3 -->
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.4.0/nouislider.min.js"
		integrity="sha512-mZXUH8DAODwCHioWP3gltQwa953LbABMlzTYwYkKqv8eNxOk37B1HgNNuCMfFxgrpW5C34WJbxPDcM58+s1dJA=="
		crossorigin="anonymous" referrerpolicy="no-referrer"></script>

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fullPage.js/4.0.20/fullpage.min.js" integrity="sha512-LGiXf+jHGTHcIybSsOWO3I/in+OObCkcEsWIZ7IyhzfD6RzD5qDUw2CK+JveuI7zTSEcDG//bIOvOpAJW2BWsg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>


<script>
	// this script waits for the user to press the yes/no buttons on page3 and then returns a message based on what
	// button they chose
	document.addEventListener('DOMContentLoaded', function() {
		const buttonBox = document.getElementById('button-box');
		const buttonContainer = document.querySelector('.button-container');
		const yesButton = document.querySelector('#yesButton');
		const noButton = document.querySelector('#noButton');
		const responseText = document.getElementById('response-text');

		yesButton.addEventListener('click', function() {
			buttonBox.classList.add('hide');
			buttonContainer.style.display = 'none'; //get rid of the yes/no buttons and box
			responseText.textContent = 'You are part of a massive community! To date, TikTok has been downloaded over 3.4 billion times!';
			responseText.style.display = 'block'; //show the text
		});

		noButton.addEventListener('click', function() {
			buttonBox.classList.add('hide');
			buttonContainer.style.display = 'none'; //get rid of the yes/no buttons and box
			responseText.textContent = 'Consider joining TikTok\'s global community, which has amassed over 3.4 billion downloads, to discover the engaging content that has its users hooked!';
			responseText.style.display = 'block'; //show the text
		});
	});
</script>

<script>
	// this script is how we get the text/visualizations to fade in based on what page the user is on
	document.addEventListener('DOMContentLoaded', function() {
		new fullpage('#fullPage', {
			autoScrolling: true,
			navigation: true,
			normalScrollElements: '#artist-name-container',
			licenseKey: 'gplv3-license',
			afterLoad: function(origin, destination) {
				if (destination.anchor === 'page2') { //fade-ins for page2
					const titleElement = document.querySelector('.fade-in-title');
					titleElement.classList.add('show');

					setTimeout(function() {
						// https://developer.mozilla.org/en-US/docs/Web/API/setTimeout
						const fact1 = document.querySelector('.fade-in-fact1');
						fact1.classList.add('show');
					}, 1000);

					setTimeout(function() {
						const fact2 = document.querySelector('.fade-in-fact2');
						fact2.classList.add('show');
					}, 2000);

					setTimeout(function() {
						const fact3 = document.querySelector('.fade-in-fact3');
						fact3.classList.add('show');
					}, 4000);

					setTimeout(function() {
						const fact4 = document.querySelector('.fade-in-fact4');
						fact4.classList.add('show');
					}, 6000);
				} else if (destination.anchor === 'page3') { // fade-ins for page3
					const buttonBox = document.getElementById('button-box');
					buttonBox.classList.add('centered');
				}
			}

		});
	});

</script>

<script>
	//this script draws the bar chart and the rest of the text after the yes/no button is pushed
	// (this follows the above script)
	let tiktokUserData;

	d3.csv("data/tiktok_user_stats.csv").then(csv => {
		tiktokUserData = csv.map(d => ({
			Time: d['Time'],
			Value: parseFloat(d['Value'])
		}));

		const yesButton = document.getElementById('yesButton');
		const noButton = document.getElementById('noButton');
		const text1 = document.querySelector('.fade-in-tiktok-text1');
		const text2 = document.querySelector('.fade-in-tiktok-text2');
		const text3 = document.querySelector('.fade-in-tiktok-text3');

		yesButton.addEventListener('click', function() {
			// more time delays if the user pressed yes
			// https://developer.mozilla.org/en-US/docs/Web/API/setTimeout
			setTimeout(function() {
				const barChart = new BarChart('barchart', tiktokUserData);
			}, 4000);

			setTimeout(function() {
				text1.classList.add('show');
			}, 2000);

			setTimeout(function() {
				text2.classList.add('show');
			}, 8000);

			setTimeout(function() {
				text3.classList.add('show');
			}, 10000);

		});

		noButton.addEventListener('click', function() {
			setTimeout(function() {
				//more time delays if the user pressed no
				const barChart = new BarChart('barchart', tiktokUserData);
			}, 4000);

			setTimeout(function() {
				text1.classList.add('show');
			}, 2000);

			setTimeout(function() {
				text2.classList.add('show');
			}, 8000);

			setTimeout(function() {
				text3.classList.add('show');
			}, 10000);
		});
	});
</script>

<!-- own js files -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="js/piano.js"></script>
<script src="js/BubbleGraph.js"></script>
<script src="js/radarchart.js"></script>
<script src="js/faceplot.js"></script>
<script src="js/tiktokBarChart.js"></script>
<script src="js/histogram.js"></script>
<script src="js/scatterchart.js"></script>
<script src="js/main.js"></script>


</body>
</html>